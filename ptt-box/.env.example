# =============================================================================
# PTT System Environment Variables
# =============================================================================
# このファイルをコピーして .env を作成してください
# cp .env.example .env
# =============================================================================

# =============================================================================
# vox_ptt_record.py - VOX録音サービス
# =============================================================================
# マイクデバイス番号 (list_devices.py で確認)
VOX_DEVICE_INDEX=1
# 音量閾値 (RMS値、小さいほど敏感)
VOX_THRESHOLD=0.0020
# サンプルレート
VOX_SAMPLE_RATE=44100
# ブロックサイズ
VOX_BLOCK_SIZE=1024
# 無音判定のホールドカウント
VOX_HOLD_COUNT=3
# 無音後のホールド時間（秒）
VOX_HOLD_TIME=1.5
# 録音終了から保存までの待ち時間（秒）
VOX_SAVE_DELAY=10.0
# 録音ゲイン
VOX_GAIN=10.0
# Stream Server URL (PTT状態通知用)
STREAM_SERVER_URL=http://localhost:9320

# =============================================================================
# transcriber.py - Whisper文字起こしサービス
# =============================================================================
# Whisperモデルサイズ (tiny, base, small, medium, large-v2, large-v3)
WHISPER_MODEL_SIZE=large-v3
# 処理デバイス (cuda, cpu)
WHISPER_DEVICE=cuda
# 計算精度 (float16, int8, float32)
WHISPER_COMPUTE_TYPE=float16

# =============================================================================
# uploader.py - FTPアップロードサービス
# =============================================================================
# [必須] FTPサーバー
FTP_SERVER_URL=ftp.example.com
# [必須] FTPユーザーID
FTP_USER_ID=your_username
# [必須] FTPパスワード
FTP_PASSWORD=your_password
# リモートディレクトリ
REMOTE_FILE_DIR=/recordings
# 最大保持ファイル数 (古いファイルを自動削除)
MAX_REMOTE_FILES=200

# =============================================================================
# 共通設定
# =============================================================================
# 録音ファイル保存ディレクトリ
RECORDINGS_DIR=./recordings

# =============================================================================
# server.js - Node.js Stream Server (メイン)
# =============================================================================

# --- サーバー基本設定 ---
# HTTPポート
HTTP_PORT=9320
# PTTタイムアウト（ミリ秒、0で無効化）
PTT_TIMEOUT=300000
# STUNサーバー
STUN_SERVER=stun:stun.l.google.com:19302

# --- 音声デバイス設定 ---
# マイクデバイス名 (ffmpegで使用)
MIC_DEVICE=CABLE Output (VB-Audio Virtual Cable)
# スピーカーデバイス名 (空でシステムデフォルト)
SPEAKER_DEVICE=
# スピーカーデバイスID (Python audio_output.py用)
SPEAKER_DEVICE_ID=0

# --- 音声機能フラグ ---
# Python音声出力を使用 (true/false)
USE_PYTHON_AUDIO=false
# ローカル音声出力を有効化 (true/false)
ENABLE_LOCAL_AUDIO=true
# サーバーマイクを有効化 (true/false)
ENABLE_SERVER_MIC=true
# サーバーマイクモード (always/ptt)
SERVER_MIC_MODE=always

# --- シリアルリレー設定 (PTT制御用) ---
# リレーポート
RELAY_PORT=COM3
# ボーレート
RELAY_BAUD_RATE=9600
# リレー制御を有効化 (true/false)
ENABLE_RELAY=true

# --- ダッシュボード認証 ---
# [推奨変更] ダッシュボードパスワード
DASH_PASSWORD=admin

# --- Web Push通知 (任意) ---
# VAPID公開鍵
VAPID_PUBLIC_KEY=
# VAPID秘密鍵
VAPID_PRIVATE_KEY=
# VAPID連絡先
VAPID_SUBJECT=mailto:admin@example.com

# --- ログ設定 ---
# ファイルログを有効化 (true/false)
ENABLE_FILE_LOG=true
# ログ保持日数
LOG_RETENTION_DAYS=30

# =============================================================================
# stream_server.py - Python WebRTC Server (レガシー)
# =============================================================================
# マイクデバイス番号
STREAM_DEVICE_INDEX=1
# バインドホスト
STREAM_HOST=0.0.0.0
# ポート
STREAM_PORT=9320
# サンプルレート
STREAM_SAMPLE_RATE=48000

# =============================================================================
# TURNサーバー設定 (NAT越え用、任意)
# =============================================================================
# TURNサーバー (host:port)
TURN_SERVER=
# TURNユーザー名
TURN_USERNAME=
# TURNパスワード
TURN_PASSWORD=

# =============================================================================
# vt_client.py / vt_client.js - Virtual Transceiver Client
# =============================================================================
# WebSocketサーバーURL
VT_SERVER_URL=ws://localhost:9320/ws
# マイクデバイス番号
VT_MIC_DEVICE_INDEX=1
# スピーカーデバイス番号
VT_SPEAKER_DEVICE_INDEX=5

# =============================================================================
# audio_output.py - 音声出力サービス
# =============================================================================
# 出力デバイス番号
AUDIO_OUTPUT_DEVICE_INDEX=5
